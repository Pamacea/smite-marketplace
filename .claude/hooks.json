{
  "hooks": {
    "PostToolUse": [
      {
        "description": "Auto-trigger Gatekeeper when docs/ files are modified",
        "matcher": "Edit|Write",
        "hook": {
          "type": "prompt",
          "prompt": "A file was just modified. Check if it's in docs/ directory. If yes:\n1. Inform the user: 'ðŸ“„ Documentation file detected: {file}'\n2. Suggest running: 'ðŸš€ Running Agent Gatekeeper...'\n3. Use Skill tool with skill='smite-gatekeeper:smite:gatekeeper' and args='--auto --artifact={file}'\n\nDo NOT run for node_modules/, dist/, .git/, or test files."
        }
      },
      {
        "description": "Auto-detect technical debt in code changes",
        "matcher": "Edit|Write",
        "hook": {
          "type": "prompt",
          "prompt": "A source file was just modified. Scan for:\n- Type 'any' usage\n- TODO/FIXME comments\n- Functions > 50 lines\n- Duplicate code patterns\n\nIf technical debt detected:\n1. Inform user: 'ðŸ”ª Technical debt detected in {file}:{line}'\n2. Suggest running Surgeon with specific target\n3. Ask for confirmation: 'Run Surgeon? [Y]es / [N]o / [L]ater'\n\nOnly suggest for .ts, .tsx, .js, .jsx files. Ignore test files and node_modules/."
        }
      }
    ],
    "PostSubagentStop": [
      {
        "description": "Auto-suggest next agent in workflow",
        "matcher": "smite-explorer|smite-strategist|smite-aura|smite-constructor|smite-surgeon|smite-gatekeeper|smite-handover",
        "hook": {
          "type": "prompt",
          "prompt": "A smite agent just completed. Based on the workflow:\n- explorer â†’ strategist â†’ aura â†’ constructor â†’ gatekeeper â†’ handover\n- OR custom workflow if defined in .smite/orchestrator-state.json\n\n1. Identify which agent just completed\n2. Determine the next logical agent\n3. Inform user: 'âœ… Agent {current_agent} completed'\n4. Suggest: 'ðŸ”„ Next: {next_agent} - {reason}'\n5. Offer to create handover artifact if transition is major\n6. Ask: 'Run {next_agent}? [Y]es / [N]o / [S]kip'\n\nUpdate .smite/orchestrator-state.json with completion status."
        }
      },
      {
        "description": "Track agent completion in orchestrator state",
        "matcher": "",
        "hook": {
          "type": "command",
          "command": "node plugins/smite-orchestrator/dist/state-manager.js set-agent {agent_name} && node plugins/smite-orchestrator/dist/track-artifacts.js"
        }
      }
    ],
    "PreToolUse": [
      {
        "description": "Validate before running smite agents",
        "matcher": "Task.*smite-",
        "hook": {
          "type": "prompt",
          "prompt": "About to run a smite agent. Check:\n1. Is this the right agent for the task?\n2. Has the previous agent in the workflow completed?\n3. Are there any artifacts that should be handed over?\n\nIf workflow order is violated, warn the user and suggest the correct sequence."
        }
      }
    ]
  }
}
