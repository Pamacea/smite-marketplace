{
  "_comment": "Quality Gate Configuration for Smite",
  "_description": "Code quality validation and automated documentation triggers",

  "enabled": true,
  "logLevel": "info",
  "maxRetries": 3,

  "include": [
    "**/*.ts",
    "**/*.tsx",
    "**/*.js",
    "**/*.jsx"
  ],
  "exclude": [
    "**/*.test.ts",
    "**/*.spec.ts",
    "**/node_modules/**",
    "**/dist/**",
    "**/build/**"
  ],

  "complexity": {
    "maxCyclomaticComplexity": 10,
    "maxCognitiveComplexity": 15,
    "maxNestingDepth": 4,
    "maxFunctionLength": 50,
    "maxParameterCount": 5
  },

  "semantics": {
    "enabled": true,
    "checks": [
      {
        "type": "api-contract",
        "enabled": true,
        "severity": "error"
      },
      {
        "type": "type-consistency",
        "enabled": true,
        "severity": "error"
      },
      {
        "type": "naming",
        "enabled": false,
        "severity": "warning"
      },
      {
        "type": "duplicate-code",
        "enabled": false,
        "severity": "warning"
      }
    ]
  },

  "security": {
    "enabled": true,
    "rules": [
      {
        "id": "sql-injection",
        "enabled": true
      },
      {
        "id": "xss-vulnerability",
        "enabled": true
      },
      {
        "id": "weak-crypto",
        "enabled": true
      },
      {
        "id": "hardcoded-secret",
        "enabled": true
      }
    ]
  },

  "tests": {
    "enabled": false,
    "command": null,
    "framework": null,
    "timeoutMs": 60000,
    "failOnTestFailure": true
  },

  "mcp": {
    "enabled": false,
    "serverPath": "./node_modules/@smite/docs-editor-mcp/dist/index.js",
    "triggers": {
      "openAPI": {
        "enabled": true,
        "filePatterns": [
          "**/routes/**/*.ts",
          "**/api/**/*.ts",
          "**/controllers/**/*.ts",
          "**/pages/api/**/*.ts"
        ],
        "frameworks": ["express", "nextjs"]
      },
      "readme": {
        "enabled": true,
        "filePatterns": [
          "**/src/**/*.ts",
          "**/lib/**/*.ts",
          "**/core/**/*.ts",
          "package.json"
        ]
      },
      "jsdoc": {
        "enabled": true,
        "filePatterns": [
          "**/*.ts",
          "**/*.tsx",
          "**/*.js",
          "**/*.jsx"
        ]
      }
    }
  },

  "output": {
    "format": "text",
    "includeCodeSnippets": true,
    "maxSuggestions": 5
  },

  "overrides": [
    {
      "files": "**/plugins/**/*.ts",
      "complexity": {
        "maxCyclomaticComplexity": 5,
        "maxCognitiveComplexity": 8,
        "maxNestingDepth": 3,
        "maxFunctionLength": 30,
        "maxParameterCount": 4
      },
      "security": {
        "enabled": true,
        "rules": [
          { "id": "sql-injection", "enabled": true },
          { "id": "xss-vulnerability", "enabled": true },
          { "id": "weak-crypto", "enabled": true },
          { "id": "hardcoded-secret", "enabled": true }
        ]
      }
    },
    {
      "files": "**/*.test.ts",
      "complexity": {
        "maxCyclomaticComplexity": 15,
        "maxCognitiveComplexity": 20,
        "maxNestingDepth": 5,
        "maxFunctionLength": 100,
        "maxParameterCount": 8
      },
      "semantics": {
        "enabled": false,
        "checks": []
      },
      "security": {
        "enabled": false,
        "rules": []
      }
    }
  ]
}
