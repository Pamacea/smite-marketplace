# Auto-Learning System

`★ Insight ─────────────────────────────────────`
**Auto-Learning** : Chaque session Claude génère des connaissances réutilisables qui s'accumulent dans le temps.
**Target sécurisé** : `rules/project/learnings.md` - pas de modification du CLAUDE.md principal.
**Extraction automatique** : Patterns, décisions d'architecture, erreurs à éviter.`─────────────────────────────────────────────────`

---

## Overview

Le système Auto-Learning capture automatiquement les connaissances après chaque session significative.

### Ce qui est capturé

1. **Patterns découverts** - Conventions de code spécifiques au projet
2. **Décisions d'architecture** - Pourquoi tel choix a été fait
3. **Solutions réutilisables** - Approches qui ont fonctionné
4. **Erreurs à éviter** - Pièges rencontrés et solutions
5. **Stack technique** - Versions et configurations particulières

---

## Structure des learnings

```markdown
# Project Learnings

_Dernière mise à jour: YYYY-MM-DD_

---

## Patterns Spécifiques

### [Nom du pattern]
**Découvert dans:** [contexte]
```typescript
// Exemple
export function patternName() {
  // ...
}
```
**Pourquoi:** [raison]

---

## Décisions d'Architecture

### [Sujet]
**Date:** [date]
**Décision:** [choix fait]
**Raison:** [pourquoi ce choix]
**Alternatives rejetées:** [liste]

---

## Solutions Réutilisables

### [Problème]
**Solution:** [description + code]
**Fichiers:** `path/to/file`

---

## Erreurs à Éviter

### [Erreur]
**Symptôme:** [ce qui arrive]
**Cause:** [root cause]
**Solution:** [comment corriger]

---

## Stack Technique

| Composant | Version | Notes |
|-----------|---------|-------|
| Next.js | 15.1.0 | RSC activé |
| Prisma | 5.20.0 | ... |
```

---

## Extraction Automatique

### Quand capturer

À la fin de chaque session où:
- ≥3 fichiers ont été modifiés
- Une nouvelle convention a été découverte
- Une décision d'architecture a été prise
- Un bug non-trivial a été résolu

### Template d'extraction

```markdown
## Session Learning - [Date]

### Tâche accomplie
[Description de ce qui a été fait]

### Fichiers modifiés
- `path/to/file1` - [raison]
- `path/to/file2` - [raison]

### Patterns découverts
[Nouveaux patterns ou conventions]

### Décisions techniques
[Choix techniques faits pendant la session]

### Problèmes résolus
[Problèmes rencontrés et solutions]

### À retenir pour prochaine fois
[Leçons apprises]
```

---

## Commande /learn

```bash
/learn --from=session-id
/learn --recent  # Dernière session
/learn --all     # Toutes les sessions non-apprises
```

### Sortie

Le système génère une proposition de mise à jour:

```markdown
## Proposition de mise à jour pour rules/project/learnings.md

### Nouveaux patterns détectés
1. [Pattern 1]
2. [Pattern 2]

### Nouvelles décisions
1. [Décision 1]

### Nouvelles leçons
1. [Leçon 1]

---
**Appliquer ces changements ?** (y/n)
```

---

## Intégration avec les agents

### /implement

Après chaque implémentation significative:
```bash
# À la fin du mode --epct, --builder, --predator
[Auto] Extraction des learnings...
[Auto] Proposition: 3 nouveaux patterns, 1 décision
```

### /refactor

Après refactor:
```bash
# À la fin de --full, --resolve
[Auto] Extraction des patterns de refactoring...
[Auto] Proposition: 2 leçons apprises
```

### /explore

Après exploration deep:
```bash
# À la fin de --mode=deep
[Auto] Extraction des patterns d'architecture...
[Auto] Proposition: 1 pattern découvert
```

---

## Format de stockage

### learnings.md

```markdown
# Project Learnings

*Auto-generated by SMITE Auto-Learning*

---

## Patterns
[...sections...]

## Architecture Decisions
[...sections...]

## Solutions
[...sections...]

## Pitfalls
[...sections...]

## Tech Stack
[...sections...]
```

### sessions/[session-id].md

Archive brute de chaque session:
```markdown
# Session [ID]

**Date:** [timestamp]
**Agent:** [implement/refactor/explore]
**Mode:** [epct/builder/etc]

## Task
[Description]

## Actions
[What was done]

## Learnings
[Raw extraction]
```

---

## Configuration

```json
{
  "learning": {
    "enabled": true,
    "targetFile": "rules/project/learnings.md",
    "archiveDir": ".claude/.smite/learning/sessions/",
    "autoExtract": true,
    "minComplexity": 3,
    "requireApproval": true
  }
}
```

---

## Version

**Version**: 1.0.0
**Last Updated**: 2025-02-02
